# Unreal & C++

언리얼 엔진을 서서히 공부하다보니 언리얼 엔진에서의 쓰는 C++는 조금 더 특별하게 다른 점이 있다는 것을 알게됐습니다.
특히 언리얼 자체에서 지원하는 다양한 라이브러리, 표준 템플릿, 또는 명명규칙 등 다양하게 새로 배워야할 것이 있다는 것을 알게 됐고 이에 대한 정리가 필요하다는 생각이 들었다. 그래서 이에 대한 정리, 나아가서 앞으로 사용하게 될 내용들도 계속해서 여기에 추가해나가며 정리할 생각입니다.

## 기본 명명 규칙 & 코딩 표준

- 타입 이름 또는 변수에 첫 글자로는 대문자를 사용해야 합니다.(언더 스코어는 사용하지 않도록 해야 합니다)

* 타입 이름은 추가적인 대문자로 이루어진 접두사를 포함하여 변수와 구분합니다.

  - ex) UObject, AActor, SWidget 등등...(이것들을 상속받은 클래스도 같은 U,A,S의 접두사가 각각 붙게 됩니다.)
  - 템플릿 클래스는 접두사 T를 포함합니다.
  - 추상적 인터페이스 클래스는 I 접두사가 붙게 됩니다.
  - 열거형에는 접두사 E
  - \*부울 변수는 접두사 b가 붙게 됩니다.(ex-bClickOn)
  - 그 외 대부분 클래스는 접두사 F가 붙게 됩니다.

* 변수,메서드 클래스는 이름이 명확하고 내용을 파악할 수 있어야 합니다.
  - 이름이 명확해야하면 특히 bool을 반환하는 함수는 IsVisible()처럼 true/false의 기준이 명확해야 합니다.

## C++ 추가 지원

언리얼 엔진에서는 기존 C++ 기능에 더해 효과적인 타입들을 더 지원하는 것을 알게 됐고 이에 대해서 정리하려고 합니다.

- TCHAR - character(크기 추정 금지)
- 정수형(uint는 - 포함 x)
  - int8,uint8
  - int16,uint16
  - int32,uint32
  - int64,uint64
- 실수형
  - float
  - double
- 문자열
  - FString (기존 선언하듯이 사용 X)
    > 사용 예) FString s = TEXT("text");
  - FName (식별자에 사용되는 문자열에 주로 사용, 메모리나 CPU 시간을 절약할 수 있습니다.)

## Unreal 호환 기능들

- UPROPERTY()

  > 변수 선언시에 위에 붙여서 언리얼 엔진 창 자체에서도 프로퍼티를 조작할 수 있게 하는 매크로<br>
  > 지정자의 종류(매개변수)가 많으므로 필요에 따라 적어서 써야 합니다.

- UFUNCION()
  > 마찬가지로 이번엔 함수를 언리얼에서 표시할 수 있게 하는 매크로<br>
  > 주의할 점으로는 블루프린트에서 사용하기 위해서는 Category가 포함되어 있어야 합니다.

## 포인터(Pointer)와 참조(References)의 차이

둘 다 메모리 주소를 가르킨다는 점에서는 같습니다. 하지만 결정적인 차이들이 있습니다.

1. 재할당 여부<br>
   포인터는 재할당이 가능하지만 참조는 처음 생성한 뒤 한번만 설정이 가능합니다. 그 뒤 변경이 불가합니다.

2. null 가능<br>
   마찬가지로 안정성을 위해 참조에서는 null 할당이 불가합니다.

3. 사용 방식<br>
   참조는 이러한 재할당이 막혀있는 구조이기에 메모리 주소를 알 필요가 전혀 없기에 포인터처럼 값을 알기 위해 \*변수명 의 구조를 사용할 필요없이 바로 변수명을 통해 메모리 주소가 가르키는 값을 알 수 있습니다.<br>
   반면 오히려 주소를 알아내야할 경우 참조는 &변수명을 해서 주소를 알아내야 합니다.

- 추가 팁: const 참조 기능
  매개변수로 참조를 사용할 때 해당 함수 내에서의 참조한 값의 변경을 원치 않을 수 있습니다. 그럴 때 참조 변수 앞에 Const를 넣어주면 이 변수의 값을 수정하지 못하게합니다.

```C++
int Add(const int& a,const int& b){
  //a=4; b=5; <-const가 있기에 수정을 하려하면 오류가 뜨게 됩니다.
return a+b;
}
```
