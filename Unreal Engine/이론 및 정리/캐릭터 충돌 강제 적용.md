# 캐릭터 충돌 강제 적용

캐릭터가 물체의 충돌해서 이동을 당하는 방식을 구현할 때 캐릭터가 밀리면서 겪게되는 오류가 있습니다.<br>
화면이 글리치(반짝)거린다거나 캐릭터가 뚝뚝 끊기면서 이동당하는 부자연스러운 모습을 확인할 수 있습니다.

그런데 특정 경우에는 자연스럽게 동작하는데 그건 캐릭터가 움직이고 있으면서 물체와 충돌하고 있는 경우입니다. 이러한 현상이 발생하는 이유는 캐릭터가 움직이고 있을 때만 콜리전 충돌을 감지하기 때문이라고 합니다.

그래서 이러한 현상을 해결하기 위해서는 내 캐릭터가 겉으로 보기엔 안움직이더라도 움직이고 있다는 판정을 넣음으로써 해결이 가능합니다.

## 해결 방법

해결 방법으로는 내가 원하는 캐릭터에 존재하는 캐릭터 무브먼트를 활용하는 방법이 있습니다. 해당 요소에서 보이지는 않지만 항상 움직이는 판정을 넣어줍니다.

아래 사진은 그 사용 방법입니다.

![1](/Assets/Images/Unreal/이론/캐릭터%20충돌%20강제%20적용/1.png)

Tick 마다 MoveUpdatedComponent 함수로 움직이게 합니다.

Sweep 옵션은 해당 캐릭터가 움직이니 콜리전 충돌을 검사해야한다는 것을 뜻하는 옵션이므로 켜주고 눈에 보이지 않을 작은 사이즈의 이동을 X,Y에 넣은 것을 확인할 수 있는데 이러면 X,Y축에 충돌을 검사하는 것이 됩니다. <br>
주의할 점으론 Z는 움직임을 주지 않았으니 충돌 검사를 하지 않으니 필요에 따라서 조절해서 세팅을 해야합니다.

또 주의할 점으로는 MoveUpdatedComponent를 하나만 사용하면 한쪽 방향으로 지속적으로 움직이는 잘못된 구현이 됩니다. 우리는 캐릭터가 움직이는걸 원하지 않으므로 사진처럼 하나 더 추가해서 이동했던 것에 반대 방향으로 이동 함수도 같이 넣어주셔야 제대로 가만히 있으면서 충돌 검사를 계속하게 됩니다.

또 중요한 점은 GetActorRotation을 통해서 캐릭터의 회전 움직임도 반영을 시켜주어야합니다. 그렇지 않다면 캐릭터가 항상 한 방향을 바라본채로 움직이는 부자연스러운 움직임을 구현하게 됩니다.

이것으로 충돌에 대한 오류를 해결할 수 있습니다. 다른 방식으로 구현하더라도 움직임을 줘서 충돌을 검사시킨다는게 중요한 포인트라고 생각합니다.
