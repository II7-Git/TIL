# 들어가기에 앞서

언리얼 엔진을 처음 공부함에 있어서 기존에 학습했던 유니티 엔진과는 분명한 작업에 차이가 있기에 먼저 기초적인 용어를 정리하고 들어가야겠다는 생각이 들었습니다.
이왕 공부할거면 정식 용어를 바탕으로 공부하는 것이 맞겠다는 생각이 들었고 그래서 다음 공식 사이트를 참고하면서 공부를 시작하게 됐습니다.

[Unity DOCS : 기본에 대한 이해](https://docs.unrealengine.com/5.2/ko/understanding-the-basics-of-unreal-engine/)

이 공식 문서를 바탕으로 하나씩 배우고 정리해 나가려고 합니다.
<br/><br/>

---

# 용어 정리

## 프로젝트(Project)

기본적인 하나의 작업 프로젝트를 의미하며 Blueprints, Material 등의 폴더들을 포함하고 있습니다. 프로젝트 안의 폴더는 원하는대로 이름을 변경하고 정리가 가능합니다.

프로젝트에는 연관된 <u>**.uproject**</u> 파일을 가지고 있으며 이를 통해 프로젝트를 생성하거나,열거나,저장할 수 있습니다.

## 오브젝트(Object)

언리얼에서 가장 기본적인 클래스.<br/>
에셋에 필수적인 기능들을 포함하고 있으며 대부분 기능들이 이 오브젝트 클래스를 상속받아서 함수 기능을 사용합니다.<br/><br/>

C++에서는 <u>UObject</u> 라는 이름의 클래스로 구현되어있으며 언리얼 에디터에 변수를 노출하기 위한 메타데이터(UProperty) 지원, 로딩 및 저장 직렬화 등의 기능을 지원합니다.

개인적으로 유니티에도 같은 오브젝트의 개념이 있어서 같은 기능으로 동작한다고 생각하였습니다.

## 액터(Actor)

액터는 카메라, 스태틱 메시, 플레이어의 스타트 위치 등등 레벨(구현할 화면)에 배치할 수 있는 모든 오브젝트를 가리킨다고 합니다. <br/>
액터의 공통된 특징은 배치할 수 있으니 이동,회전,스케일링 등의 3D 트랜스폼을 지원한다고 합니다.<br/><br/>

C++에서는 이 클래스를 <u>AActor</u> 라고 하며 이 속성을 가진 인스턴스를 생성하는 것을 스폰(Spawn)이라고 합니다.<br/>
그 사용법은 <u>SpawnActor()</u>나 특수 템플릿 버전 등의 방법이 있습니다.

[참고 자료 : 액터 스폰하기](https://docs.unrealengine.com/4.27/ko/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Actors/Spawning/)

[액터 및 지오메트리](https://docs.unrealengine.com/5.2/ko/actors-and-geometry-in-unreal-engine/)

## 형변환(Casting)

기본적으로 C++에서의 형변환 특징과 같습니다. 단 언리얼 엔진의 액터 개념을 이용해서 특정 클래스의 액터를 다른 클래스인 것 처럼 간주하려고 시도하는 작업을 칭합니다.<br/><br/>

형변환은 성공할 수도 실패할 수도 있으며 성공하게되면 형변환한 액터 클래스의 전용 기능에 액세스할 수 있다고 합니다.<br/><br/>

```
예를 들어 플레이어 캐릭터에 다양한 방식으로 영향을 미치는 여러 타입의 볼륨이 있는 게임을 만드는 중이라고 가정합시다. 이러한 볼륨 중 하나는 화염 으로, 시간이 지남에 따라 플레이어의 체력을 감소시킵니다. 레벨에서 플레이어가 어느 볼륨에든 오버랩되면, 해당 볼륨을 화염 으로 형변환 하여 ""플레이어 체력 대미지(damage player health)"" 기능에 액세스를 시도할 수 있습니다.

* 형변환이 성공하여 플레이어가 화염 속에 서 있게 되면, 플레이어의 체력이 감소하기 시작합니다.

* 형변환이 실패하여 플레이어가 다른 타입의 볼륨에 서 있게 되면, 체력에 영향을 받지 않습니다.
```

위가 형변환에 예로 들은 문구인데 특정 오브젝트에 새로운 속성을 부여하거나 변형시킬 수 있다는 의미로 저는 받아들였습니다. 예를 들어 맵에 있는 오브젝트를 손으로 잡으면 무기 속성의 클래스로 변경시켜서 플레이어의 데미지를 올릴 수 있다던지 하는 등의 활용법이 있을 것 같습니다.

## 컴포넌트(Component)

액터에 추가할 수 있는 기능 조각.<br/><br/>
단독으로 존재할 수는 없으며 액터에 특정 기능들을 추가할 수 있게 됩니다.<br/>
유니티에서 작업하던 속성들의 창과 유사한 것을 보아 비슷한 기능을 할 것 같다는 생각이 들었습니다.

```
ex)
* 스포트 라이트 컴포넌트는 액터가 스포트 라이트처럼 빛을 내게 합니다.

* 로테이팅 무브먼트 컴포넌트는 액터가 회전하게 합니다.

* 오디오 컴포넌트는 액터가 사운드를 재생하게 합니다.
```

[컴포넌트 창과 사용 예시](https://docs.unrealengine.com/5.2/ko/components-window-in-unreal-engine/)

[컴포넌트 개요](https://docs.unrealengine.com/5.2/ko/components-in-unreal-engine/)

## 폰(Pawn)

폰은 액터의 서브 클래스로 인게임 아바타 또는 페르소나(게임 안의 캐릭터 등)의 역할을 합니다.<br/>
체스말의 폰에서 따온 것을 보아 게임의 존재하는 캐릭터 들을 뜻한다는 것을 알 수 있으며 실제로 폰은 플레이어 또는 게임 AI로 제어되는 NPC 등이 있습니다.
<br/>

- 플레이어나 AI가 폰을 제어하고 있다면 그 상태를 빙의된(Possessed)상태라고 합니다.

- AI, 플레이어 모두가 제어하지 않는 폰은 빙의 해제된(Unpossessed)상태라고 합니다.

### Character

걸어다닐 수 있는 능력을 지닌 특수 유형 Pawn

### Controller

Pawn과 1:1 대응 관계로 컨트롤러는 단 하나의 폰만을 제어합니다. 따라서 게임 플레이 도중 스폰된 폰에 자동적으로 컨트롤러가 빙의되지는 않습니다.

### 추가 내용

개인적으로 이해할 때는 유니티에서 캐릭터와 같은 기능들을 포함하고 있다는 생각으로 이해했으며 상호작용 및 동작을 처리하는데 있어서 중요한 클래스라고 입니다.

[폰 공식 문서](https://docs.unrealengine.com/5.2/ko/pawn-in-unreal-engine/)

[폰 빙의](https://docs.unrealengine.com/5.2/ko/possessing-pawns-in-unreal-engine/)

## 캐릭터(Character)

플레이어 캐릭터로 사용하기 위한 서브클래스로 콜리전 설정, 바이페드(Biped) 움직임을 위한 입력 바인딩, 플레이어가 제어하는 움직임을 위한 추가 코드 등의 기능을 지원합니다

- [캐릭터](https://docs.unrealengine.com/5.2/ko/characters-in-unreal-engine/)
- [캐릭터 구성](https://docs.unrealengine.com/5.2/ko/setting-up-a-character-in-unreal-engine/)
- [캐릭터 무브먼트 설정](https://docs.unrealengine.com/5.2/ko/setting-up-character-movement/)

## 플레이어 컨트롤러(Player Controller)

Pawn과 1:1 대응 관계로 컨트롤러는 단 하나의 폰만을 제어합니다. 따라서 게임 플레이 도중 스폰된 폰에 자동적으로 컨트롤러가 빙의되지는 않습니다.

## AI 컨트롤러(AI Controller)

NPC가 조작하는 폰을 소유할 때 사용하는 컨트롤러.<br/>
만약 아무 조작하지 않고 폰을 매치해놨다면 베이스 AI 컨트롤러가 빙의됩니다.
<br/>
C++클래스로는 <u>AAIController</u> 입니다.

## 플레이어 스테이트(Player State)

플레이어의 상태 속성을 담을 수 있는 클래스. 유니티에서는 이런 클래스를 내가 직접 만들었어야 했는데 언리얼은 기본적인 클래스로 구현됐습니다.<br/><br/>

필요한 플레이어나 봇 등에만 존재하는 클래스

이 클래스에 정보 예

```
*이름
*현재 레벨
*체력
*점수
*깃발 뺏기(Capture the Flag) 게임에서 현재 깃발을 들고 있는지 여부
```

C++ 클래스의 이름은 <u>APlayerState</u> 입니다.<br/>
개인적으로는 이러한 게임적인 요소의 클래스를 기본으로 제공한다는 점이 좋다고 생각했고 필요하다면 이를 상속받은 새 클래스를 만들어 다양한 능력치를 더 넣을 수 있다는 생각이 들었습니다.

[참고 자료](https://docs.unrealengine.com/5.2/ko/gameplay-framework-quick-reference-in-unreal-engine/)

## 게임 모드(Game Mode)

게임 모드는 게임의 규칙을 설정하는 클래스로 한 레벨(게임 플레이하는 영역)에는 하나의 게임 모드만 존재할 수 있습니다.

예시로는

```
플레이어가 게임에 참여하는 방법.

게임의 일시 정지 가능 여부.

승리 조건 등 특정 게임 전용 행동.
```

등이 있으며 기본적인 프로젝트 세팅에 디폴트 게임 모드를 하나 설정하고 레벨 별로 필요에 따라 오버라이드 할 수 있습니다.

멀티 게임에 경우 서버에 게임 모드가 존재하며 각 클라이언트는 이 서버에 게임 모드를 복제하게 됩니다.

C++에서의 클래스로는 <u>AGameMode</u> 입니다.

## 게임 스테이트(Game State)

게임 스테이트는 게임 내의 모든 클라이언트가 복제할 정보가 들어 있는 컨테이너입니다. 즉 게임을 하는 모든 사람이 얻게될 '게임의 스테이트' 입니다.

예시로는

```
게임 점수에 대한 정보.

대결이 시작됐는지 여부.

월드에 있는 플레이어 수를 기준으로 스폰할 AI 캐릭터의 수.
```

멀티 게임에서는 각 클라이언트가 로컬 인스턴스를 가지고 있고 이 정보는 서버 인스턴스에서 복제해옵니다.

C++ 클래스는 <u>AGameState</u> 입니다.

이를 공부하면서 느꼈던 점은 언리얼이 게임에 특화된 엔진이다 보니 이런 게임에서의 기본적인 기능들이 이미 자체 클래스로써 구현이 되어 있기에 기능 구현에 많은 도움을 받을 수 있다는 것이 인상 깊었습니다.

[참고 : 게임 모드와 게임 스테이트](https://docs.unrealengine.com/5.2/ko/game-mode-and-game-state-in-unreal-engine/)

## 그 밖에...

그 외에 다양한 브러쉬, 볼륨, 레벨, 월드 등의 기초 용어들이 있지만 이는 이해하기 어려운 내용도 아니고 기본적인 개념이기에 필요하다면 들어가서 한번씩 읽어보는 정도면 충분할 것 같습니다.

[용어 사이트](https://docs.unrealengine.com/5.2/ko/unreal-engine-terminology/)

---

# 마무리

이번에 기본적인 바탕 용어들과 기능을 공부하였는데 확실히 유니티보다는 좀 더 게임에 특화된 그래서 더욱 게임스러운 기능들이 기본적으로 구현이 된 엔진이라는 생각이 들었습니다.<br/>

앞으로 이 기능들을 써서 다양한 구현을 시도하게 될텐데 지원하는 기능들이 상당히 유용할 것 같다는 생각이 들었다. 부디 빨리 익숙해져서 이 기능들을 사용해보고 싶습니다.
