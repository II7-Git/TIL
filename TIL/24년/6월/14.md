# 24.06.14 TIL

## UnrealEngine

#### [Krazy Karts (5) - 움직임에 대한 보간처리](</Unreal%20Engine/실습/KrazyKarts/KrazyKarts%20(5).md>)

SimulatedProxy의 움직임이 불안정한 것에 대해서 처리를 해주기 위해 서버에서 업데이트 되는 것과 클라이언트에서 현재 시뮬레이트 되고 있는 정보 두개를 사용하여 그 사이는 보간 함수로 움직임을 처리해서 서버에서 목표 정보까지 부드럽게 연결되는 처리를 해주었다.

이 과정에서 기존에도 사용했던 선형보간(lerp) 함수도 사용해보았고 이에 속도를 추가해서 보간처리하여 좀 더 자연스러운 보간이 가능한 <code>FMath::CubicInterp</code> , 속도에 대한 도함수를 얻어내는 <code>FMath::CubicInterpDerivative</code>, 방향에 대한 보간 함수인 <code>FQuat::Slerp</code> 등을 사용해보았고 이를 통해서 SimulatedProxy의 움직임을 보다 자연스럽게 처리할 수 있었다.

보간 함수를 사용하면서 배울 수 있던 점은 서버에 업데이트 주기 사이를 클라이언트 쪽에서 어떻게 처리해야 보다 클라이언트가 서버와의 괴리감 없이 자연스럽게 구현할 수 있는지 배웠다는 점이다. 특히 최신 게임들은 움직임의 실시간 반응과 자연스러운 동작 조작감 등이 중요한데 이러한 부분에서 보간 처리는 보다 효과적인 해결책이 될 수 있다는 것을 배웠다.

이에 대한 내용 정리와 실제 코드는 위에 링크에 자세히 정리해놓았다.
