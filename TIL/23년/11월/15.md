# 23.11.15 TIL

## UnrealEngine

### [SimpleShooter (4)](</Unreal%20Engine/실습/SimpleShooter/SimpleShooter%20(4).md>)

오늘부터는 적의 AI를 설계 및 구현하는 작업을 시작했다. 기존에 쓰던 자체적인 코딩 방식이 아닌 AI를 다룰 수 있는 AIController를 상속받아서 해당 기능들을 사용해보면서 구현하는 방식을 택했다. 이유로는 기존 게임에서 동작하는 AI의 동작방식을 AIController에서 구현된 기능을 통해서 구현할 수 있기 때문이었다.

AIController를 사용해서 특정 벡터나 액터를 향한 포커스나 이동, AI에 조종 받는 폰의 시야를 체크해서 원하는 액터가 있는지 여부를 체크하는 시야 체크 기능 등의 다양한 기능들을 조작해보았고 이동할 때 경로를 계산하는 기능을 사용하기 위해 NavMesh의 설정 또한 사용할 수 있었다.

하지만 이러한 AI를 코드로만 구현하면 어려움이 있을 수 있기에 다음은 행동트리와 블랙보드를 사용하여 AI행동을 구현했다. 블랙보드는 행동트리에서 사용하게 되는 변수를 담는 메모리 공간이고 이는 AIController의 C++에서도 접근이 가능해 C++에서 해당 변수를 컨트롤 할 수 있게 해주었다.<br>
행동트리를 사용해서 AI를 구성하면 얻게되는 이점들이 있는데 먼저 다양한 조건에 따라서 AI가 하는 행동이 달라지는데 이를 Selector를 통해서 병렬적으로 구성하기 좋았고 또 이를 트리형태로 배치하기에 보다 직관적으로 눈에 들어오게 구성할 수 있다는 점이 인상 깊었다. 또 디버깅을 할 때에도 어떠한 행동이 실행되는지 노드로 볼 수 있어서 순수 코드로만 작업하는 것에 비해서 보다 합리적이라는 생각도 들었다.

하지만 이 행동 트리에는 기본적인 동작들만 구현되어 있기에 이를 보다 제대로 사용하기 위해서는 원하는 행동을 C++에서 구현할 수 있는 기능이 필요하다. 이러한 기능을 담당하는 것이 BTTasks인데 이는 다음 시간에 이어서 작업을 할 예정이다.
